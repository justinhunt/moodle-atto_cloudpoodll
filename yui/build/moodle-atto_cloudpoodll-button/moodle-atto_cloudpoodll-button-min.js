YUI.add("moodle-atto_cloudpoodll-button",function(e,t){var n="atto_cloudpoodll",r={VIDEO:"video",AUDIO:"audio"},i={LINK:"link",TAGS:"tags"},s={ENUS:"en-US",ENGB:"en-GB",ENAU:"en-AU",ENIN:"en-IN",FRCA:"fr-CA",FRFR:"fr-FR",ESUS:"es-US",ESES:"es-ES",ITIT:"it-IT",PTBR:"pt-BR",DEDE:"de-DE",KOKR:"ko-KR",HIIN:"hi-IN",ARAE:"ar-AE",ARSA:"ar-SA",ZHCN:"zh-CN",NLNL:"nl-NL",ENIE:"en-IE",ENWL:"en-WL",ENAB:"en-AB",FAIR:"fa-IR",DECH:"de-CH",HEIL:"he-IL",IDID:"id-ID",JAJP:"ja-JP",MSMY:"ms-MY",PTPT:"pt-PT",RURU:"ru-RU",TAIN:"ta-IN",TEIN:"te-IN",TRTR:"tr-TR"},o={},u={PLAIN:"standard",BMR:"bmr",ONETWOTHREE:"onetwothree",FRESH:"fresh",ONCE:"once"},a={VIDEO:"atto_cloudpoodll_video",AUDIO:"atto_cloudpoodll_audio",UPLOAD:"atto_cloudpoodll_upload",SUBTITLE:"atto_cloudpoodll_subtitle",OPTIONS:"atto_cloudpoodll_options",HISTORY:"atto_cloudpoodll_history",LANG_SELECT:"atto_cloudpoodll_languageselect",SUBTITLE_CHECKBOX:"atto_cloudpoodll_subtitle_checkbox",MEDIAINSERT_CHECKBOX:"atto_cloudpoodll_mediainsert_checkbox",ATTO_CLOUDPOODLL_FORM:"atto_cloudpoodll_form",CP_VIDEO:"atto_cloudpoodll_video_cont",CP_AUDIO:"atto_cloudpoodll_audio_cont",CP_UPLOAD:"atto_cloudpoodll_upload_cont",CP_SWAP:"atto_cloudpoodll_swapmeout"},f={subtitling:0,transcoding:!1,started:!1,currentrecorder:!1,insertmethod:!1,subitleaudiobydefault:0,subitlevideobydefault:0,elementid:!1,subtitlecheckbox:!1,filetitledisplaylength:30,showhistory:!0},l={ROOT:'<form class="mform atto_form atto_cloudpoodll_form" id="{{elementid}}_atto_cloudpoodll_form"><ul class="root nav nav-tabs" role="tablist">{{#if isvideo}}<li data-medium-type="{{CSS.VIDEO}}" class="nav-item"><a class="nav-link active" href="#{{elementid}}_{{CSS.VIDEO}}" role="tab" data-toggle="tab">{{get_string "video" component}}</a></li>{{else}}<li data-medium-type="{{CSS.AUDIO}}" class="nav-item"><a class="nav-link active" href="#{{elementid}}_{{CSS.AUDIO}}" role="tab" data-toggle="tab">{{get_string "audio" component}}</a></li>{{/if}}<li data-medium-type="{{CSS.UPLOAD}}" class="nav-item"><a class="nav-link" href="#{{elementid}}_{{CSS.UPLOAD}}" role="tab" data-toggle="tab">{{get_string "upload" component}}</a></li><li data-medium-type="{{CSS.OPTIONS}}" class="nav-item"><a class="nav-link" href="#{{elementid}}_{{CSS.OPTIONS}}" role="tab" data-toggle="tab">{{get_string "options" component}}</a></li>{{#if showhistory}}<li data-medium-type="{{CSS.HISTORY}}" class="nav-item" data-content="history" ><a class="nav-link" href="#{{elementid}}_{{CSS.HISTORY}}" role="tab" data-toggle="tab">{{get_string "history" component}}</a></li>{{/if}}</ul><div class="root tab-content">{{#if isvideo}}<div data-medium-type="{{CSS.VIDEO}}" class="tab-pane active" id="{{elementid}}_{{CSS.VIDEO}}"><div id="id_responsive_atto_cloudpoodll_video_cont"><div id="{{elementid}}_{{CSS.CP_VIDEO}}" class="{{CSS.CP_SWAP}}" data-iframeclass="atto_cloudpoodll_iframe" data-id="{{elementid}}_{{CSS.CP_VIDEO}}" data-parent="{{CP.parent}}" data-appid="{{CP.appid}}" data-media="video" data-type="{{CP.videoskin}}" data-localloader="/lib/editor/atto/plugins/cloudpoodll/poodllloader.html" data-localloading="auto" data-width="{{CP.sizes.videowidth}}" data-height="{{CP.sizes.videoheight}}" data-transcode="{{CP.transcode}}" data-transcribe="{{subtitlevideobydefault}}" data-subtitle="{{subtitlevideobydefault}}" data-language="{{CP.language}}" data-expiredays="{{CP.expiredays}}" data-region="{{CP.region}}" data-owner="{{CP.owner}}" data-token="{{CP.token}}" data-fallback="{{CP.fallback}}"></div></div></div>{{else}}<div data-medium-type="{{CSS.AUDIO}}" class="tab-pane active" id="{{elementid}}_{{CSS.AUDIO}}"><div id="id_responsive_atto_cloudpoodll_audio_cont"><div id="{{elementid}}_{{CSS.CP_AUDIO}}" class="{{CSS.CP_SWAP}}" data-iframeclass="atto_cloudpoodll_iframe" data-id="{{elementid}}_{{CSS.CP_AUDIO}}" data-parent="{{CP.parent}}" data-appid="{{CP.appid}}" data-media="audio" data-type="{{CP.audioskin}}" data-localloader="/lib/editor/atto/plugins/cloudpoodll/poodllloader.html" data-localloading="auto" data-width="{{CP.sizes.audiowidth}}" data-height="{{CP.sizes.audioheight}}" data-transcode="{{CP.transcode}}" data-transcribe="{{subtitleaudiobydefault}}" data-subtitle="{{subtitleaudiobydefault}}" data-language="{{CP.language}}" data-expiredays="{{CP.expiredays}}" data-region="{{CP.region}}" data-owner="{{CP.owner}}" data-token="{{CP.token}}" data-fallback="{{CP.fallback}}"></div></div></div>{{/if}}<div id="{{elementid}}_{{CSS.UPLOAD}}" data-medium-type="{{CSS.UPLOAD}}" class="tab-pane"><br>{{get_string "uploadinstructions" component}}<div id="id_responsive_atto_cloudpoodll_upload_cont"><div id="{{elementid}}_{{CSS.CP_UPLOAD}}" class="{{CSS.CP_SWAP}}" data-iframeclass="atto_cloudpoodll_iframe" data-id="{{elementid}}_{{CSS.CP_UPLOAD}}" data-parent="{{CP.parent}}" data-appid="{{CP.appid}}" data-media="{{recorder}}" data-type="upload" data-width="450" data-height="350" data-transcode="{{CP.transcode}}" {{#if isvideo}}data-transcribe="{{subtitlevideobydefault}}" data-subtitle="{{subtitlevideobydefault}}" {{else}}data-transcribe="{{subtitleaudiobydefault}}" data-subtitle="{{subtitleaudiobydefault}}" {{/if}}data-language="{{CP.language}}"data-expiredays="{{CP.expiredays}}" data-region="{{CP.region}}" data-owner="{{CP.owner}}" data-token="{{CP.token}}"></div></div></div><div data-medium-type="{{CSS.OPTIONS}}" class="tab-pane" id="{{elementid}}_{{CSS.OPTIONS}}"><br><label><input type="checkbox" id="{{elementid}}_{{CSS.MEDIAINSERT_CHECKBOX}}" class="{{CSS.MEDIAINSERT_CHECKBOX}}"{{#if mediataginsert}} checked="true" {{/if}}/>&nbsp;{{get_string "mediainsertcheckbox" component}}</label>{{#if cansubtitle}}<br><label><input type="checkbox" id="{{elementid}}_{{CSS.SUBTITLE_CHECKBOX}}" class="{{CSS.SUBTITLE_CHECKBOX}}"{{#if isvideo}}{{#if letssubtitlevideo}} checked="true" {{/if}}{{else}}{{#if letssubtitleaudio}} checked="true" {{/if}}{{/if}}/>&nbsp;{{get_string "subtitlecheckbox" component}}</label><br><label>{{get_string "speakerlanguage" component}}&nbsp;<select id="{{elementid}}_{{CSS.LANG_SELECT}}" class="{{CSS.LANG_SELECT}}"><option value="{{LANG.ARAE}}" {{#if useARAE}}selected="selected"{{/if}}>{{get_string "ar-ae" component}}</option><option value="{{LANG.ARSA}}" {{#if useARSA}}selected="selected"{{/if}}>{{get_string "ar-sa" component}}</option><option value="{{LANG.DEDE}}" {{#if useDEDE}}selected="selected"{{/if}}>{{get_string "de-de" component}}</option><option value="{{LANG.DECH}}" {{#if useDECH}}selected="selected"{{/if}}>{{get_string "de-ch" component}}</option><option value="{{LANG.ENUS}}" {{#if useENUS}}selected="selected"{{/if}}>{{get_string "en-us" component}}</option><option value="{{LANG.ENGB}}" {{#if useENGB}}selected="selected"{{/if}}>{{get_string "en-gb" component}}</option><option value="{{LANG.ENAU}}" {{#if useENAU}}selected="selected"{{/if}}>{{get_string "en-au" component}}</option><option value="{{LANG.ENIN}}" {{#if useENIN}}selected="selected"{{/if}}>{{get_string "en-in" component}}</option><option value="{{LANG.ENIE}}" {{#if useENIE}}selected="selected"{{/if}}>{{get_string "en-ie" component}}</option><option value="{{LANG.ENWL}}" {{#if useENWL}}selected="selected"{{/if}}>{{get_string "en-wl" component}}</option><option value="{{LANG.ENAB}}" {{#if useENAB}}selected="selected"{{/if}}>{{get_string "en-ab" component}}</option><option value="{{LANG.ESUS}}" {{#if useESUS}}selected="selected"{{/if}}>{{get_string "es-us" component}}</option><option value="{{LANG.ESES}}" {{#if useESES}}selected="selected"{{/if}}>{{get_string "es-es" component}}</option><option value="{{LANG.FAIR}}" {{#if useFAIR}}selected="selected"{{/if}}>{{get_string "fa-ir" component}}</option><option value="{{LANG.FRFR}}" {{#if useFRFR}}selected="selected"{{/if}}>{{get_string "fr-fr" component}}</option><option value="{{LANG.FRCA}}" {{#if useFRCA}}selected="selected"{{/if}}>{{get_string "fr-ca" component}}</option><option value="{{LANG.HEIL}}" {{#if useHEIL}}selected="selected"{{/if}}>{{get_string "he-il" component}}</option><option value="{{LANG.HIIN}}" {{#if useHIIN}}selected="selected"{{/if}}>{{get_string "hi-in" component}}</option><option value="{{LANG.ITIT}}" {{#if useITIT}}selected="selected"{{/if}}>{{get_string "it-it" component}}</option><option value="{{LANG.JAJP}}" {{#if useJAJP}}selected="selected"{{/if}}>{{get_string "ja-jp" component}}</option><option value="{{LANG.KOKR}}" {{#if useKOKR}}selected="selected"{{/if}}>{{get_string "ko-kr" component}}</option><option value="{{LANG.MSMY}}" {{#if useMSMY}}selected="selected"{{/if}}>{{get_string "ms-my" component}}</option><option value="{{LANG.NLNL}}" {{#if useNLNL}}selected="selected"{{/if}}>{{get_string "nl-nl" component}}</option><option value="{{LANG.PTPT}}" {{#if usePTPT}}selected="selected"{{/if}}>{{get_string "pt-pt" component}}</option><option value="{{LANG.PTBR}}" {{#if usePTBR}}selected="selected"{{/if}}>{{get_string "pt-br" component}}</option><option value="{{LANG.RURU}}" {{#if useRURU}}selected="selected"{{/if}}>{{get_string "ru-ru" component}}</option><option value="{{LANG.TAIN}}" {{#if useTAIN}}selected="selected"{{/if}}>{{get_string "ta-in" component}}</option><option value="{{LANG.TEIN}}" {{#if useTEIN}}selected="selected"{{/if}}>{{get_string "te-in" component}}</option><option value="{{LANG.TRTR}}" {{#if useTRTR}}selected="selected"{{/if}}>{{get_string "tr-tr" component}}</option><option value="{{LANG.ZHCN}}" {{#if useZHCN}}selected="selected"{{/if}}>{{get_string "zh-cn" component}}</option></select></label><br>{{get_string "subtitleinstructions" component}}{{else}}{{get_string \'cannotsubtitle\' component}}{{/if}}</div>{{#if showhistory}}<div data-medium-type="{{CSS.HISTORY}}" data-field="history" data-loaded="false" class="tab-pane" id="{{elementid}}_{{CSS.HISTORY}}"></div></div>{{/if}}</div></form>'
,HTML_MEDIA:{VIDEO:'&nbsp;<video controls="true" crossorigin="anonymous"  controlsList="nodownload">{{#if includesourcetrack}}<source src="{{sourceurl}}" type="{{sourcemimetype}}">{{/if}}<source src="{{url}}" type="{{urlmimetype}}">{{#if issubtitling}}<track src="{{subtitleurl}}" kind="captions" srclang="{{CP.language}}" label="{{CP.language}}" default="true">{{/if}}</video>&nbsp;',AUDIO:'&nbsp;<audio controls="true" crossorigin="anonymous" controlsList="nodownload">{{#if includesourcetrack}}<source src="{{sourceurl}}" type="{{sourcemimetype}}">{{/if}}<source src="{{url}}" type="{{urlmimetype}}">{{#if issubtitling}}<track src="{{subtitleurl}}" kind="captions" srclang="{{CP.language}}" label="{{CP.language}}" default="true">{{/if}}</audio>&nbsp;',LINK:'{{#if issubtitling}}&nbsp;<a href="{{url}}?data-subtitles={{subtitleurl}}&data-language={{CP.language}}"{{else}}&nbsp;<a href="{{url}}"{{/if}}>{{name}}</a>&nbsp;'}},c=null;e.namespace("M.atto_cloudpoodll").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{initializer:function(e){if(e.disabled)return;var t=new Array("audio","video");for(var n=0;n<t.length;n++)e.hasOwnProperty(t[n])&&this.addButton({icon:t[n],iconComponent:"atto_cloudpoodll",title:t[n]+"_desc",buttonName:t[n],callback:this._displayDialogue,callbackArgs:t[n]});f.insertmethod=e.insertmethod,f.subtitleaudiobydefault=e.subtitleaudiobydefault,f.subtitlevideobydefault=e.subtitlevideobydefault,f.transcoding=e.cp_transcode=="1",f.filetitledisplaylength=e.filetitle_displaylength,f.showhistory=e.showhistory=="1",o.parent=M.cfg.wwwroot,o.appid="atto_cloudpoodll",o.token=e.cp_token,o.region=e.cp_region,o.owner=e.cp_owner,o.expiredays=e.cp_expiredays,o.cansubtitle=e.cp_cansubtitle,o.language=e.cp_language,o.transcode=e.cp_transcode,o.audioskin=e.cp_audioskin,o.videoskin=e.cp_videoskin,o.fallback=e.fallback,o.sizes=this._fetchRecorderDimensions()},_getContext:function(t){return e.merge({elementid:this.get("host").get("elementid"),component:n,helpStrings:this.get("help"),isvideo:f.currentrecorder===r.VIDEO,showhistory:f.showhistory,cansubtitle:o.cansubtitle,recorder:f.currentrecorder,mediataginsert:f.insertmethod===i.TAGS,subtitleaudiobydefault:f.subtitleaudiobydefault,subtitlevideobydefault:f.subtitlevideobydefault,letssubtitleaudio:f.subtitleaudiobydefault==1,letssubtitlevideo:f.subtitlevideobydefault==1,useENUS:o.language===s.ENUS,useENGB:o.language===s.ENGB,useENAU:o.language===s.ENAU,useENIN:o.language===s.ENIN,useFRCA:o.language===s.FRCA,useFRFR:o.language===s.FRFR,useESUS:o.language===s.ESUS,useESES:o.language===s.ESES,useITIT:o.language===s.ITIT,usePTBR:o.language===s.PTBR,useDEDE:o.language===s.DEDE,useKOKR:o.language===s.KOKR,useHIIN:o.language===s.HIIN,useARAE:o.language===s.ARAE,useARSA:o.language===s.ARSA,useZHCN:o.language===s.ZHCN,useNLNL:o.language===s.NLNL,useENIE:o.language===s.ENIE,useENWL:o.language===s.ENWL,useENAB:o.language===s.ENAB,useFAIR:o.language===s.FAIR,useDECH:o.language===s.DECH,useHEIL:o.language===s.HEIL,useIDID:o.language===s.IDID,useJAJP:o.language===s.JAJP,useMSMY:o.language===s.MSMY,usePTPT:o.language===s.PTPT,useRURU:o.language===s.RURU,useTAIN:o.language===s.TAIN,useTEIN:o.language===s.TEIN,useTRTR:o.language===s.TRTR,CSS:a,CP:o,LANG:s},t)},_fetchRecorderDimensions:function(){var e={};switch(o.videoskin){case u.ONETWOTHREE:e.videowidth=441,e.videoheight=540;break;case u.BMR:e.videowidth=441,e.videoheight=500;break;default:e.videowidth=441,e.videoheight=450}switch(o.audioskin){default:e.audiowidth=450,e.audioheight=350}return e},_displayDialogue:function(t,s){if(this.get("host").getSelection()===!1)return;this._currentSelection=this.get("host").getSelection(),f.currentrecorder=s;switch(s){case r.VIDEO:var l=M.util.get_string("createvideo",n);switch(o.videoskin){case u.ONETWOTHREE:var h="500",p="660";break;case u.PLAIN:var h="500",p="580";break;case u.BMR:var h="500",p="620";break;default:var h="500",p=!1}break;case r.AUDIO:default:var l=M.util.get_string("createaudio",n),h="501",p=!1}o.cansubtitle?f.currentrecorder==r.VIDEO?f.subtitling=f.subtitlevideobydefault:f.subtitling=f.subtitleaudiobydefault:f.subtitling=0;var d={};d.center=!0,d.headerContent=l,d.focusAfterHide=s,d.width=h+"px",p&&(d.height=p+"px");var v=this.getDialogue(d);v.get("width")!=h+"px"&&(v.set("headerContent",l),v.set("width",h+"px"),v.set("height",p+"px")),v.set("bodyContent",this._getDialogueContent()).show(),f.elementid=this.get("host").get("elementid"),f.subtitlecheckbox=e.one("#"+f.elementid+"_"+a.SUBTITLE_CHECKBOX),f.mediainsertcheckbox=e.one("#"+f.elementid+"_"+a.MEDIAINSERT_CHECKBOX),f.languageselect=e.one("#"+f.elementid+"_"+a.LANG_SELECT);var m=e.one("#"+f.elementid+"_"+a.ATTO_CLOUDPOODLL_FORM),g=this;c=g,f.subtitlecheckbox!=null&&(o.cansubtitle?f.subtitlecheckbox.on("click",function(e){var t=e.currentTarget;t.get("checked")?(m.all("."+a.CP_SWAP).setAttribute("data-transcribe","1"),m.all("."+a.CP_SWAP).setAttribute("data-subtitle","1"),m.all("."+a.CP_SWAP).setAttribute("data-alreadyparsed","false"),f.subtitling=!0):(m.all("."+a.CP_SWAP).setAttribute("data-transcribe","0"),m.all("."+a.CP_SWAP).setAttribute("data-subtitle","0"),m.all("."+a.CP_SWAP).setAttribute("data-alreadyparsed","false"),f.subtitling=!1),m.all("."+a.CP_SWAP).empty(),g._loadRecorders()}):this._disableSubtitleCheckbox()),f.mediainsertcheckbox!=null&&f.mediainsertcheckbox.on("click",function(e){var t=e.currentTarget;t.get("checked")?f.insertmethod=i.TAGS:f.insertmethod=i.LINK}),f.languageselect!=null&&f.languageselect.on("change",function(e){var t=e.currentTarget;t&&(o.language=t.selectedOptionValue(),m.all("."+a.CP_SWAP).setAttribute("data-language",o.language),m.all("."+a.CP_SWAP).setAttribute("data-alreadyparsed","false"),m.all("."+a.CP_SWAP).empty(),g._loadRecorders())}),this._loadRecorders()},_disableSubtitleCheckbox:function(){f.subtitlecheckbox.setAttribute("disabled",!0);var t=e.one("#"+f.elementid+"_"+a.ATTO_CLOUDPOODLL_FORM);t.all("."+a.CP_SWAP).setAttribute("data-transcribe","0"),t.all("."+
a.CP_SWAP).setAttribute("data-subtitle","0")},loadHistory:function(){require(["core/templates","core/ajax","core/notification"],function(e,t,n){t.call([{methodname:"atto_cloudpoodll_history_get_items",args:{recordertype:f.currentrecorder},done:function(t){function r(e){var t=new Date(e*1e3),n=t.getUTCMonth()+1,r=t.getUTCDate(),i=t.getUTCFullYear();return n+"/"+r+"/"+i}Array.isArray(t.responses)&&(t.responses.forEach(function(e){e.displaydateofentry=r(e.dateofentry),e.displayfiletitle=e.filetitle.substring(0,f.filetitledisplaylength)+"..."}),t.responses.formatted=JSON.stringify(t.responses));var i={data:t.responses};e.render("atto_cloudpoodll/history",i).then(function(t,n){e.replaceNodeContents('div[data-field="history"]',t,n)}).fail(function(e){n.exception(e)})}}])})},loadHistoryPreview:function(e){require(["core/templates","core/ajax","core/notification"],function(t,n,i){n.call([{methodname:"atto_cloudpoodll_history_get_item",args:{id:e.dataset.historyId},done:function(e){var n={data:e.responses,isVideo:f.currentrecorder===r.VIDEO};t.render("atto_cloudpoodll/historypreview",n).then(function(e,n){t.replaceNodeContents('div[data-field="history"]',e,n)}).fail(function(e){i.exception(e)})}}])})},_loadRecorders:function(){var e=this;e.uploaded=!1,e.ap_count=0,require(["atto_cloudpoodll/cloudpoodllloader"],function(t){var n=function(n){switch(n.type){case"recording":n.action==="started"&&f.subtitlecheckbox!=null&&f.subtitlecheckbox.set("disabled",!0);break;case"awaitingprocessing":e.uploaded||(setTimeout(function(){var r=t.fetch_guessed_extension(f.currentrecorder),i=n.sourcefilename.split(".").slice(0,-1).join(".")+"."+r,s=n.s3root+i;e._doInsert(n.mediaurl,n.mediafilename,s,n.sourcemimetype)},4e3),e.uploaded=!0);break;case"filesubmitted":break;case"error":alert("PROBLEM:"+n.message)}};t.init(a.CP_SWAP,n)})},_getDialogueContent:function(t){var r="";o.token==""?r=M.util.get_string("notoken",n):r=e.Handlebars.compile(l.ROOT)(this._getContext());var i=e.Node.create(r);return i},insertHistoryItem:function(e){c.getDialogue({focusAfterHide:null}).hide(),require(["core/ajax"],function(t){t.call([{methodname:"atto_cloudpoodll_history_get_item",args:{id:e.dataset.historyId},done:function(e){var t=e.responses[0],n=c._createMediaLink(t.mediaurl,t.mediafilename,t.sourceurl,t.sourcemimetype);switch(f.insertmethod){case i.TAGS:n.template=c._createMediaTemplate(n.context,t.sourcemimetype,n.template);break;case i.LINK:default:}c._insertIntoEditor(n.template,n.context)}}])})},_createMediaLink:function(e,t,n,r){var i={};i.url=e,i.name=t,i.issubtitling=f.subtitling&&f.subtitling!=="0",i.includesourcetrack=f.transcoding&&e!==n&&n.slice(-3)!=="wav"&&n!==!1,i.CP=o,i.subtitleurl=e+".vtt",i.sourceurl=n,i.sourcemimetype=r;var s=l.HTML_MEDIA.LINK;return{context:i,template:s}},_insertIntoEditor:function(t,n){var r=e.Handlebars.compile(t)(n),i=this.get("host");i.focus(),i.setSelection(this._currentSelection),i.insertContentAtFocusPoint(r),this.markUpdated()},_createMediaTemplate:function(e,t,n){return f.currentrecorder===r.VIDEO?(e.width=!1,e.height=!1,e.poster=!1,f.transcoding?e.urlmimetype="video/mp4":e.urlmimetype=t,n=l.HTML_MEDIA.VIDEO):(e.width=!1,e.height=!1,e.poster=!1,f.transcoding?e.urlmimetype="audio/mp3":e.urlmimetype=t,n=l.HTML_MEDIA.AUDIO),n},_doInsert:function(e,t,n,r){function a(){require(["core/ajax"],function(i){i.call([{methodname:"atto_cloudpoodll_history_create",args:{recordertype:f.currentrecorder,mediafilename:t,sourceurl:n,mediaurl:e,sourcemimetype:r,subtitling:f.subtitling?1:0,subtitleurl:f.subtitling?e+".vtt":""}}])})}this.getDialogue({focusAfterHide:null}).hide();var s=this._createMediaLink(e,t,n,r),o=s.context,u=s.template;switch(f.insertmethod){case i.TAGS:u=this._createMediaTemplate(o,r,u);break;case i.LINK:break;default:}a(),this._insertIntoEditor(u,o)}},{ATTRS:{disabled:{value:!1}}})},"@VERSION@");
